$(document).ready(function() {
  $('.collapsible i').click(function(event) {
    event.stopPropagation();

    var parentDiv = $(this).closest('.collapsible');
    var messageDiv = parentDiv.find('.message');
    var icon = parentDiv.find('i');

    parentDiv.toggleClass('collapsed');

    if (parentDiv.hasClass('collapsed')) {
      icon.removeClass('fa-minus-square').addClass('fa-plus-square');
      messageDiv.slideUp();
    } else {
      icon.removeClass('fa-plus-square').addClass('fa-minus-square');
      messageDiv.slideDown();
    }
  });
});
